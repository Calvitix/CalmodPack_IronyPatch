namespace = distar
ship_event = {
    id = distar.1095
    title = "distar.1095.name"
    desc = "distar.1095.desc"
    picture = GFX_evt_warm_barren
    show_sound = event_ghost_town
    location = FROM
    is_triggered_only = yes
    immediate = {
        set_global_flag = spaceborn_locusts_spawned
        owner = {
            country_event = {
                id = story.1
                days = 30
            }
            set_country_flag = seen_space_locusts
        }
        From = {
            change_pc = pc_barren
            add_modifier = {
                modifier = "terraforming_candidate"
                days = -1
            }
            solar_system = {
                set_star_flag = space_locusts_current_location
            }
        }
    }
    option = {
        name = distar.1095.a
        hidden_effect = {
            From = {
                random_system = {
                    limit = {
                        OR = {
                            NOT = {
                                exists = space_owner
                            }
                            AND = {
                                exists = space_owner
                                space_owner = {
                                    OR = {
                                        is_country_type = default
                                        is_country_type = ascended_empire
                                        is_country_type = lost_empire
                                    }
                                }
                            }
                        }
                        any_neighbor_system = {
                            has_star_flag = space_locusts_current_location
                        }
                    }
                    random_system_planet = {
                        limit = {
                            is_star = yes
                        }
                        planet_event = {
                            id = anomalymod.120
                            days = 10800
                            random = 10800
                        }
                    }
                }
            }
        }
    }
}
