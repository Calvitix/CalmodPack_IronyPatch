namespace = primitive
planet_event = {
    id = primitive.130
    hide_window = yes
    pre_triggers = {
        has_owner = yes
    }
    trigger = {
        NOT = {
            is_planet_class = pc_habitat
        }
        NOT = {
            is_planet_class = pc_ringworld_habitable
        }
        owner = {
            is_country_type = primitive
            NOT = {
                has_country_flag = human_primitive
            }
            OR = {
                has_country_flag = atomic_age
                has_country_flag = early_space_age
            }
        }
        OR = {
            has_observation_outpost = no
            AND = {
                has_observation_outpost = yes
                observation_outpost = {
                    has_mission = passive_observation
                }
            }
            AND = {
                has_observation_outpost = yes
                observation_outpost = {
                    has_mission = native_indoctrination
                }
            }
            AND = {
                has_observation_outpost = yes
                observation_outpost = {
                    has_mission = specimen_collection
                }
            }
        }
    }
    mean_time_to_happen = {
        years = 100
        modifier = {
            factor = 10
            owner = {
                has_country_flag = early_space_age
            }
        }
        modifier = {
            factor = 5
            owner = {
                has_ethic = ethic_pacifist
            }
        }
        modifier = {
            factor = 10
            owner = {
                has_ethic = ethic_fanatic_pacifist
            }
        }
        modifier = {
            factor = 0.75
            owner = {
                OR = {
                    has_ethic = ethic_militarist
                    has_ethic = ethic_fanatic_militarist
                }
            }
        }
        modifier = {
            factor = 0.75
            has_observation_outpost = yes
            observation_outpost = {
                has_mission = specimen_collection
            }
        }
        modifier = {
            factor = 0.5
            has_observation_outpost = yes
            observation_outpost = {
                has_mission = native_indoctrination
            }
        }
    }
    immediate = {
        if = {
            limit = {
                has_observation_outpost = yes
            }
            if = {
                limit = {
                    exists = owner
                    owner = {
                        has_country_flag = primitives_discover_observer
                    }
                }
                observation_outpost_owner = {
                    random_list = {
                        50 = {
                            country_event = {
                                id = primitivesexpanded.311
                            }
                            modifier = {
                                factor = 0
                                ROOT = {
                                    exists = owner
                                    owner = {
                                        has_ethic = ethic_fanatic_xenophobe
                                    }
                                }
                            }
                            modifier = {
                                factor = 0.5
                                ROOT = {
                                    exists = owner
                                    owner = {
                                        has_ethic = ethic_xenophobe
                                    }
                                }
                            }
                            modifier = {
                                factor = 0.5
                                ROOT = {
                                    exists = owner
                                    owner = {
                                        has_ethic = ethic_fanatic_militarist
                                    }
                                }
                            }
                            modifier = {
                                factor = 0.75
                                ROOT = {
                                    exists = owner
                                    owner = {
                                        has_ethic = ethic_militarist
                                    }
                                }
                            }
                            modifier = {
                                factor = 4
                                ROOT = {
                                    exists = owner
                                    owner = {
                                        OR = {
                                            has_ethic = ethic_pacifist
                                            has_ethic = ethic_fanatic_pacifist
                                        }
                                    }
                                }
                            }
                            modifier = {
                                factor = 2
                                ROOT = {
                                    exists = owner
                                    owner = {
                                        OR = {
                                            has_ethic = ethic_xenophile
                                            has_ethic = ethic_fanatic_xenophile
                                        }
                                    }
                                }
                            }
                        }
                        10 = {
                            owner = {
                                random_owned_ship = {
                                    limit = {
                                        is_ship_size = primitive_space_station
                                    }
                                    fleet = {
                                        destroy_fleet = THIS
                                    }
                                }
                            }
                            country_event = {
                                id = primitive.131
                            }
                            modifier = {
                                factor = 0
                                root = {
                                    OR = {
                                        is_planet_class = pc_ringworld_habitable
                                        is_planet_class = pc_habitat
                                    }
                                }
                            }
                        }
                        30 = {
                            owner = {
                                random_owned_ship = {
                                    limit = {
                                        is_ship_size = primitive_space_station
                                    }
                                    fleet = {
                                        destroy_fleet = THIS
                                    }
                                }
                            }
                            country_event = {
                                id = primitive.133
                            }
                        }
                        10 = {
                            country_event = {
                                id = primitivesexpanded.69
                            }
                            modifier = {
                                factor = 0
                                root = {
                                    OR = {
                                        is_planet_class = pc_ringworld_habitable
                                        is_planet_class = pc_habitat
                                        NOT = {
                                            host_has_dlc = Apocalypse
                                        }
                                        NOT = {
                                            has_global_flag = has_primitive_worlds
                                        }
                                    }
                                }
                            }
                        }
                        10 = {
                            country_event = {
                                id = primitivesexpanded.70
                            }
                            modifier = {
                                factor = 0
                                root = {
                                    OR = {
                                        is_planet_class = pc_ringworld_habitable
                                        is_planet_class = pc_habitat
                                        NOT = {
                                            host_has_dlc = Apocalypse
                                        }
                                        has_global_flag = has_primitive_worlds
                                    }
                                }
                            }
                        }
                    }
                }
            }
            else = {
                owner = {
                    random_owned_ship = {
                        limit = {
                            is_ship_size = primitive_space_station
                        }
                        fleet = {
                            destroy_fleet = THIS
                        }
                    }
                }
                observation_outpost_owner = {
                    random_list = {
                        20 = {
                            country_event = {
                                id = primitive.131
                            }
                            modifier = {
                                factor = 0
                                root = {
                                    OR = {
                                        is_planet_class = pc_ringworld_habitable
                                        is_planet_class = pc_habitat
                                    }
                                }
                            }
                        }
                        70 = {
                            country_event = {
                                id = primitive.133
                            }
                        }
                        10 = {
                            country_event = {
                                id = primitivesexpanded.69
                            }
                            modifier = {
                                factor = 0
                                root = {
                                    OR = {
                                        is_planet_class = pc_ringworld_habitable
                                        is_planet_class = pc_habitat
                                        NOT = {
                                            host_has_dlc = Apocalypse
                                        }
                                        NOT = {
                                            has_global_flag = has_primitive_worlds
                                        }
                                    }
                                }
                            }
                        }
                        10 = {
                            country_event = {
                                id = primitivesexpanded.70
                            }
                            modifier = {
                                factor = 0
                                root = {
                                    OR = {
                                        is_planet_class = pc_ringworld_habitable
                                        is_planet_class = pc_habitat
                                        NOT = {
                                            host_has_dlc = Apocalypse
                                        }
                                        has_global_flag = has_primitive_worlds
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        else = {
            owner = {
                random_owned_ship = {
                    limit = {
                        is_ship_size = primitive_space_station
                    }
                    fleet = {
                        destroy_fleet = THIS
                    }
                }
            }
            owner = {
                random_list = {
                    20 = {
                        country_event = {
                            id = primitive.131
                        }
                        modifier = {
                            factor = 0
                            root = {
                                OR = {
                                    is_planet_class = pc_ringworld_habitable
                                    is_planet_class = pc_habitat
                                }
                            }
                        }
                    }
                    70 = {
                        country_event = {
                            id = primitive.133
                        }
                    }
                    10 = {
                        country_event = {
                            id = primitivesexpanded.69
                        }
                        modifier = {
                            factor = 0
                            root = {
                                OR = {
                                    is_planet_class = pc_ringworld_habitable
                                    is_planet_class = pc_habitat
                                    NOT = {
                                        host_has_dlc = Apocalypse
                                    }
                                    NOT = {
                                        has_global_flag = has_primitive_worlds
                                    }
                                }
                            }
                        }
                    }
                    10 = {
                        country_event = {
                            id = primitivesexpanded.70
                        }
                        modifier = {
                            factor = 0
                            root = {
                                OR = {
                                    is_planet_class = pc_ringworld_habitable
                                    is_planet_class = pc_habitat
                                    NOT = {
                                        host_has_dlc = Apocalypse
                                    }
                                    has_global_flag = has_primitive_worlds
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
