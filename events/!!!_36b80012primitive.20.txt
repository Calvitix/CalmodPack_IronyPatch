namespace = primitive
country_event = {
    id = primitive.20
    hide_window = yes
    trigger = {
        is_country_type = primitive
        has_country_flag = bronze_age
        NOT = {
            has_country_flag = recently_advanced
        }
    }
    mean_time_to_happen = {
        years = 1000
        modifier = {
            factor = 1.5
            any_owned_planet = {
                has_modifier = mineral_poor
            }
        }
        modifier = {
            factor = 0.75
            any_owned_planet = {
                has_modifier = mineral_rich
            }
        }
        modifier = {
            factor = 0.5
            any_owned_planet = {
                has_modifier = ultra_rich
            }
        }
    }
    immediate = {
        if = {
            limit = {
                any_owned_planet = {
                    has_observation_outpost = yes
                    observation_outpost_owner = {
                        is_country_type = default
                    }
                    observation_outpost = {
                        OR = {
                            has_mission = technological_enlightenment_1
                            has_mission = technological_enlightenment_2
                            has_mission = technological_enlightenment_3
                            has_mission = technological_enlightenment_4
                            has_mission = technological_enlightenment_5
                            has_mission = technological_enlightenment_6
                            has_mission = technological_enlightenment_7
                            has_mission = technological_enlightenment_8
                            has_mission = technological_enlightenment_9
                        }
                    }
                }
            }
            set_country_flag = was_bronze
        }
        set_timed_country_flag = {
            flag = recently_advanced
            days = 360000
        }
        set_primitive_age_effect = {
            primitive_age = iron_age
        }
        change_country_flag = {
            icon = {
                category = "special"
                file = "primitive.dds"
            }
            background = {
                category = "backgrounds"
                file = "new_dawn.dds"
            }
            colors = {
                "purple"
                "dark_purple"
                "null"
                "null"
            }
        }
        capital_scope = {
            if = {
                limit = {
                    exists = observation_outpost_owner
                }
                observation_outpost_owner = {
                    country_event = {
                        id = primitive.21
                    }
                }
            }
        }
    }
}
