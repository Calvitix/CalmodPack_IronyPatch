shield_module = {
    section = "ANCHORAGE_STARBASE_SECTION"
    icon = "GFX_starbase_shield_module"
    construction_days = 180
    resources = {
        category = starbase_modules
        cost = {
            trigger = {
                from = {
                    is_ai = no
                }
            }
            alloys = 50
            energy = 150
            minerals = 50
        }
        cost = {
            trigger = {
                from = {
                    is_ai = yes
                }
            }
            alloys = 75
        }
        upkeep = {
            energy = 2
        }
    }
    station_modifier = {
        ship_shield_add = 3000
        ship_shield_regen_add_perc = 1
    }
    ai_build_at_chokepoint = yes
    ai_build_outside_chokepoint = yes
    potential = {
        has_starbase_size >= starbase_starport
        solar_system = {
            NOT = {
                is_star_class = sc_pulsar
            }
        }
    }
    ai_weight = {
        weight = 125
        modifier = {
            factor = 0.75
            count_starbase_modules = {
                type = shield_module
                count > 0
            }
        }
        modifier = {
            factor = 0.75
            count_starbase_modules = {
                type = shield_module
                count > 1
            }
        }
        modifier = {
            factor = 0.9
            count_starbase_modules = {
                type = shield_module
                count > 2
            }
        }
        modifier = {
            factor = 0.9
            count_starbase_modules = {
                type = shield_module
                count > 3
            }
        }
        modifier = {
            factor = 0.9
            count_starbase_modules = {
                type = shield_module
                count > 4
            }
        }
        modifier = {
            factor = 0.9
            count_starbase_modules = {
                type = shield_module
                count > 5
            }
        }
        modifier = {
            factor = 0.5
            has_starbase_size < starbase_starfortress
        }
        modifier = {
            factor = 0.5
            count_starbase_modules = {
                type = shield_module
                count > 10
            }
        }
        modifier = {
            factor = 0
            count_starbase_modules = {
                type = shield_module
                count >= 15
            }
        }
    }
}